CKEDITOR.dialog.add("jsonlinksDialog",function(e){return{allowedContent:"a[href,target]",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0430\u043d\u043a\u0443",minWidth:350,minHeight:100,resizable:CKEDITOR.DIALOG_RESIZE_NONE,contents:[{id:"JsonLinks",label:"JsonLinks",elements:[{type:"select",label:"\u041f\u0440\u0438\u043c\u0430\u043d\u043a\u0438",id:"jslinks",items:[],onLoad:function(){var e=this;!function(t){t.getJSON("/lures.json",function(n){t.each(n,function(){e.add(this.title,this.url)})})}(jQuery)},commit:function(e){var t=this.getValue();if(t){e.setAttribute("href",t);var n=this.getInputElement().$;e.setText(n.options[n.selectedIndex].text)}}}]}],onOk:function(){element=e.document.createElement("a"),element.setAttribute("target","_blank"),this.insertMode=!0,this.element=element,this.commitContent(this.element),this.insertMode&&e.insertElement(this.element)}}});
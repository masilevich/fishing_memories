function pointsNew(e){pointsNewMarker=new google.maps.Marker({position:new google.maps.LatLng(e.latitude,e.longitude),map:Gmaps.map.serviceObject}),$.ajax({url:"/points/new?"+jQuery.param({point:e})+"#chunked=true",type:"GET",async:!0,success:function(e){var n=function(){openInfowindow(e,pointsNewMarker),google.maps.event.addListener(Gmaps.map.visibleInfoWindow,"closeclick",function(){clearMarker(pointsNewMarker)})};n(),google.maps.event.addListener(pointsNewMarker,"click",function(){n()})}})}function openInfowindow(e,n){closeInfowindow(),Gmaps.map.visibleInfoWindow=new google.maps.InfoWindow({content:e}),Gmaps.map.visibleInfoWindow.open(Gmaps.map.serviceObject,n)}function closeInfowindow(){Gmaps.map.visibleInfoWindow&&Gmaps.map.visibleInfoWindow.close()}function clearMarker(e){try{e.setMap(null)}catch(n){}}function clearMarkerById(e){clearMarker(findById(e)),Gmaps.map.markers=Gmaps.map.markers.filter(function(n){return n.id!=e})}function findById(e){var n=Gmaps.map.markers.filter(function(n){return n.id==e});return n[0]&&n[0].serviceObject?n[0].serviceObject:void 0}function geocodePoint(e,n,t){var o=e.lat(),a=e.lng();t({latitude:o,longitude:a,map_id:n})}function select(e){document.getElementById("hand_b").className="unselected",document.getElementById("placemark_b").className="unselected",document.getElementById(e).className="selected"}function addFeatureEntry(e,n){currentRow_=document.createElement("tr");var t=document.createElement("td");currentRow_.appendChild(t),t.style.backgroundColor=n,t.style.width="1em";var o=document.createElement("td");currentRow_.appendChild(o),o.innerHTML=e;var a=document.createElement("td");return currentRow_.appendChild(a),featureTable_.appendChild(currentRow_),{desc:a,color:t}}